#ifndef PIPES_H
#define PIPES_H

#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

#include <mach/mach.h>

#include "mach-ports.h"

#define N_PIPES 0x64

void prepare_pipes(int **pipe_fds);
int control_port_via_pipe(int *pipe_fds, uint64_t offset, mach_port_t *port_to_destroy,
			  mach_port_t target_port, int *pipe_number);

#endif /* ! PIPES_H */